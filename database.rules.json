{
  "rules": {
    "jobs": {
      ".indexOn": ["status"],
      ".read": "auth != null && (data.child('ownerUid').val() === auth.uid || auth.token.moderator === true)",
      ".write": "auth != null && (
        (!data.exists() && newData.child('ownerUid').val() === auth.uid && newData.child('status').val() === 'pending') ||
        (data.exists() && (
          (data.child('ownerUid').val() === auth.uid && data.child('status').val() === 'pending') ||
          auth.token.moderator === true
        ))
      )"
    }
  }
}
